<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mamakhe ğŸ’–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("c3Isztqgd8_Adkzie");
    })();
  </script>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      text-align: center;
      color: #fff;
    }

    .container {
      padding: 30px;
    }

    h1, p {
      margin: 20px;
    }

    button {
      font-size: 18px;
      padding: 15px 30px;
      border-radius: 30px;
      border: none;
      margin: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .yes {
      background: #ff4d6d;
      color: white;
    }

    .no {
      background: #555;
      color: white;
    }

    #collage {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      padding: 20px;
    }

    #collage img {
      width: 100%;
      border-radius: 10px;
    }

    .hidden {
      display: none;
    }

    .confirmation {
      background: rgba(0,0,0,0.5);
      padding: 30px;
      border-radius: 20px;
      margin: 20px;
    }
  </style>
</head>

<body>

<audio autoplay loop>
  <source src="emlanjeni.mp3" type="audio/mpeg">
</audio>

<div class="container">
  <h1 id="question">Hey Mamakhe ğŸ’•</h1>
  <p id="message">I have a few questions for youâ€¦</p>

  <div id="buttons">
    <button class="yes" id="yesBtn" onclick="yes()">Yes â¤ï¸</button>
    <button class="no" id="noBtn" onclick="no()">No ğŸ™ˆ</button>
  </div>
</div>

<div id="collage" class="hidden"></div>

<div id="confirmation" class="confirmation hidden">
  <h2>ğŸ’– Reservation Confirmed ğŸ’–</h2>
  <p><strong>Name:</strong> Mamakhe</p>
  <p><strong>Date:</strong> 21 February</p>
  <p><strong>Status:</strong> Romantic Dinner for Two âœ¨</p>
  <p>I canâ€™t wait to celebrate love with you â¤ï¸</p>
</div>

<script>
  let step = 0;
  let noScale = 1;
  let yesLocked = false;

  const questions = [
    {
      q: "Do I make you happy? ğŸ’•",
      msg: "Your smile means everything to me."
    },
    {
      q: "Are you ready to bring a life into this world? ğŸ‘¶â¤ï¸",
      msg: "Together, with love and courage."
    },
    {
      q: "Will you be my Valentine? ğŸ’˜",
      msg: "Forever starts with this moment."
    }
  ];

  function yes() {
    if (yesLocked && step === questions.length - 1) return;

    if (step < questions.length - 1) {
      step++;
      document.getElementById("question").innerText = questions[step].q;
      document.getElementById("message").innerText = questions[step].msg;
    } else {
      yesLocked = true;
      document.getElementById("yesBtn").disabled = true;
      document.getElementById("noBtn").style.display = "none";
      showCelebration();
      sendEmail();
    }
  }

  function no() {
    noScale -= 0.1;
    document.getElementById("noBtn").style.transform = `scale(${noScale})`;
  }

  function showCelebration() {
    document.getElementById("question").innerText = "She said YES ğŸ’–";
    document.getElementById("message").innerText = "This is our love story.";
    document.getElementById("buttons").style.display = "none";

    const collage = document.getElementById("collage");
    collage.classList.remove("hidden");

    const totalPhotos = 20;
    for (let i = 1; i <= totalPhotos; i++) {
      const img = document.createElement("img");
      img.src = `photo${i}.jpg`;
      collage.appendChild(img);
    }

    document.getElementById("confirmation").classList.remove("hidden");
  }

  function sendEmail() {
    emailjs.send(
      "service_cl9xy5d",
      "template_o196jg2",
      {
        message: "Mamakhe said YES â¤ï¸ Dinner for 21 February is confirmed."
      }
    );
  }
</script>

</body>
</html>
