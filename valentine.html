
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ğŸ’– For Mamakhe ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
(function(){
  emailjs.init("IkDSQc3tDEVUWRExF"); // ğŸ”´ REPLACE
})();
</script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  color: white;
  overflow: hidden;
}

.card {
  max-width: 360px;
  margin: 15vh auto;
  background: rgba(255,255,255,0.15);
  padding: 25px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

button {
  background: white;
  color: #ff4f81;
  border: none;
  padding: 12px 20px;
  margin: 10px;
  border-radius: 25px;
  font-size: 1em;
  cursor: pointer;
}

.hearts span {
  position: absolute;
  bottom: -20px;
  font-size: 20px;
  animation: float 6s infinite ease-in;
  opacity: 0.7;
}

@keyframes float {
  0% { transform: translateY(0); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(-100vh); opacity: 0; }
}

.collage {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

.collage img {
  width: 100%;
  border-radius: 10px;
}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="emlanjeni.mp3" type="audio/mpeg">
</audio>

<div class="hearts" id="hearts"></div>

<div class="card" id="content">
  <h1>Hey Mamakhe ğŸ’•</h1>
  <p>I made something just for youâ€¦</p>
  <p id="countdown"></p>
  <button onclick="start()">Start ğŸ˜Œ</button>
</div>

<script>
const content = document.getElementById("content");
const hearts = document.getElementById("hearts");
const music = document.getElementById("music");

let alreadyConfirmed = false;
let noBtn;

// ğŸ’• Floating hearts
function makeHearts() {
  setInterval(() => {
    const heart = document.createElement("span");
    heart.innerHTML = "ğŸ’–";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = 4 + Math.random() * 4 + "s";
    hearts.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
  }, 500);
}

// ğŸ“¸ Auto-load photos
function generateCollage(maxPhotos = 50) {
  let html = '<div class="collage">';
  for (let i = 1; i <= maxPhotos; i++) {
    html += `<img src="photo${i}.jpg" onerror="this.style.display='none'">`;
  }
  html += '</div>';
  return html;
}

// â–¶ï¸ Start
function start() {
  music.play();
  makeHearts();
  question1();
}

function question1() {
  content.innerHTML = `
    <h1>Question ğŸ’­</h1>
    <p>Do I make you smile?</p>
    <button onclick="question2()">Yes ğŸ˜Š</button>
  `;
}

function question2() {
  content.innerHTML = `
    <h1>Almost ğŸ˜³</h1>
    <p>Do you know how much I care about you?</p>
    <button onclick="finalQuestion()">Yes ğŸ’•</button>
  `;
}

function finalQuestion() {
  content.innerHTML = `
    <h1>Mamakheâ€¦ ğŸ’</h1>
    <p>Will you be my Valentine?</p>
    <button onclick="yes()">YES â¤ï¸</button>
    <button id="noBtn" onmouseover="runAway()">No ğŸ™ˆ</button>
  `;
  noBtn = document.getElementById("noBtn");
}

// ğŸ˜ No button runs away
function runAway() {
  noBtn.style.position = "absolute";
  noBtn.style.left = Math.random() * 70 + "%";
  noBtn.style.top = Math.random() * 70 + "%";
}

// â¤ï¸ YES action
function yes() {
  if (alreadyConfirmed) return;
  alreadyConfirmed = true;

  // ğŸ“© Email notification
  emailjs.send("service_cl9xy5d", "template_o196jg2", {
    message: "Mamakhe said YES â¤ï¸ Dinner for 21 February is confirmed."
  });

  // ğŸ’¬ WhatsApp auto-message
  window.location.href =
    "https://wa.me/?text=" +
    encodeURIComponent("YES ğŸ’– Iâ€™ll be your Valentine ğŸ˜");

  // ğŸ½ï¸ Fake reservation confirmation
  content.innerHTML = `
    <h1>Reservation Confirmed âœ…</h1>
    <p>Thank you for confirming your reservation.</p>

    <div style="background:rgba(255,255,255,0.2);padding:15px;border-radius:12px;text-align:left;">
      <p><strong>Name:</strong> Mamakhe</p>
      <p><strong>Occasion:</strong> Valentineâ€™s Dinner ğŸ’–</p>
      <p><strong>Date:</strong> 21 February</p>
      <p><strong>Time:</strong> 19:00</p>
      <p><strong>Status:</strong> Confirmed</p>
      <p><strong>Reference:</strong> VD-2102</p>
    </div>

    <p style="margin-top:15px;">We look forward to hosting you ğŸ½ï¸âœ¨</p>

    ${generateCollage()}

    <p style="margin-top:15px;">Happy Valentineâ€™s Day ğŸ’â¤ï¸</p>
  `;
}

// â³ Countdown
const valentines = new Date(new Date().getFullYear(), 1, 14);
setInterval(() => {
  const now = new Date();
  const diff = valentines - now;
  const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
  document.getElementById("countdown").innerText =
    days > 0 ? days + " days until Valentineâ€™s Day ğŸ’˜" : "";
}, 1000);
</script>

</body>
</html>
